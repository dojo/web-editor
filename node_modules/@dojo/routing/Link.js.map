{"version":3,"file":"Link.js","sourceRoot":"","sources":["Link.ts"],"names":[],"mappings":";;;;;;;;;;;;IAAA,2DAA0D;IAC1D,yCAAwC;IACxC,8DAA6D;IAG7D,mDAA6C;IAW7C,IAAM,aAAa,GAAG,UAAC,MAAmB,EAAE,UAAe;QAClD,IAAA,kBAAE,EAAE,wBAAe,EAAf,oCAAe,EAAE,sBAAW,EAAX,gCAAW,EAAE,4BAAO,EAAE,2EAAQ,CAAgB;QAC3E,IAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,uBAAO,MAAM,CAAC,gBAAgB,EAAE,EAAK,MAAM,EAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1F,IAAM,aAAa,GAAG,UAAC,KAAiB;YAEvC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,OAAO,CAAC,KAAK,CAAC,CAAC;YAChB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;gBACzE,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACF,CAAC,CAAC;QACF,MAAM,oBACL,IAAI,MAAA,EACJ,OAAO,EAAE,aAAa,IACnB,KAAK,EACP;IACH,CAAC,CAAC;IAEF;QAA8B,oCAA0B;QAAxD;;QAUA,CAAC;QARQ,2BAAQ,GAAhB,UAAiB,KAAiB;YACjC,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC3D,CAAC;QAES,yBAAM,GAAhB;YACC,IAAM,KAAK,wBAAQ,IAAI,CAAC,UAAU,IAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,GAAE,CAAC;YACjL,MAAM,CAAC,KAAC,CAAC,GAAG,uBAAO,KAAK,GAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5C,CAAC;QACF,eAAC;IAAD,CAAC,AAVD,CAA8B,uBAAU,GAUvC;IAVY,4BAAQ;IAYrB,oBAA2B,SAAc;QAExC;YAAmB,gCAAQ;YAA3B;;YAA6B,CAAC;YAAxB,IAAI;gBADT,eAAM,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,aAAa,eAAA,EAAE,CAAC;eACrC,IAAI,CAAoB;YAAD,WAAC;SAAA,AAA9B,CAAmB,QAAQ,GAAG;QAAA,CAAC;QAC/B,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IAJD,gCAIC;IAEY,QAAA,IAAI,GAAG,UAAU,CAAC,0BAAS,CAAC,CAAC","sourcesContent":["import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\nimport { inject } from '@dojo/widget-core/decorators/inject';\nimport { Constructor, DNode, VirtualDomProperties } from '@dojo/widget-core/interfaces';\n\nimport { routerKey } from './RouterInjector';\nimport { Router } from './Router';\n\nexport interface LinkProperties extends VirtualDomProperties {\n\tkey?: string;\n\tisOutlet?: boolean;\n\tparams?: any;\n\tonClick?: (event: MouseEvent) => void;\n\tto: string;\n}\n\nconst getProperties = (router: Router<any>, properties: any): LinkProperties => {\n\tconst { to, isOutlet = true, params = {}, onClick, ...props } = properties;\n\tconst href = isOutlet ? router.link(to, { ...router.getCurrentParams(), ...params }) : to;\n\tconst handleOnClick = (event: MouseEvent) => {\n\n\t\tif (onClick) {\n\t\t\tonClick(event);\n\t\t}\n\n\t\tif (!event.defaultPrevented && event.button === 0 && !properties.target) {\n\t\t\tevent.preventDefault();\n\t\t\trouter.setPath(href);\n\t\t}\n\t};\n\treturn {\n\t\thref,\n\t\tonClick: handleOnClick,\n\t\t...props\n\t};\n};\n\nexport class BaseLink extends WidgetBase<LinkProperties> {\n\n\tprivate _onClick(event: MouseEvent): void {\n\t\tthis.properties.onClick && this.properties.onClick(event);\n\t}\n\n\tprotected render(): DNode {\n\t\tconst props = { ...this.properties, onclick: this._onClick, onClick: undefined, to: undefined, isOutlet: undefined, params: undefined, routerKey: undefined, router: undefined };\n\t\treturn v('a', { ...props }, this.children);\n\t}\n}\n\nexport function createLink(routerKey: any): Constructor<BaseLink> {\n\t@inject({ name: routerKey, getProperties })\n\tclass Link extends BaseLink {};\n\treturn Link;\n}\n\nexport const Link = createLink(routerKey);\n"]}