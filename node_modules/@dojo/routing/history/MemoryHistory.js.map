{"version":3,"file":"MemoryHistory.js","sourceRoot":"","sources":["MemoryHistory.ts"],"names":[],"mappings":";;;;;;;;;;;;IAAA,6CAA4C;IAa5C;;OAEG;IACH;QAAmC,yCAAW;QAO7C,uBAAY,EAAsD;gBAApD,kDAAa;YAA3B,YACC,kBAAM,EAAE,CAAC,SAET;YADA,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;;QACzB,CAAC;QAPD,sBAAI,kCAAO;iBAAX;gBACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;;;WAAA;QAOD,8BAAM,GAAN,UAAO,IAAY;YAClB,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAED,2BAAG,GAAH,UAAI,IAAY;YACf,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC;YACR,CAAC;YAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC;gBACT,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,IAAI;aACX,CAAC,CAAC;QACJ,CAAC;QAED,+BAAO,GAAP,UAAQ,IAAY;YACnB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChB,CAAC;QACF,oBAAC;IAAD,CAAC,AA/BD,CAAmC,yBAAW,GA+B7C;IA/BY,sCAAa;IAiC1B,kBAAe,aAAa,CAAC","sourcesContent":["import { HistoryBase } from './HistoryBase';\nimport { History, HistoryOptions } from './interfaces';\n\n/**\n * Options for creating MemoryHistory instances.\n */\nexport interface MemoryHistoryOptions extends HistoryOptions {\n\t/**\n\t * The current value is set to the path.\n\t */\n\tpath: string;\n}\n\n/**\n * A memory-backed history manager. Can be used outside of browsers.\n */\nexport class MemoryHistory extends HistoryBase implements History {\n\tprivate _current: string;\n\n\tget current() {\n\t\treturn this._current;\n\t}\n\n\tconstructor({ path: current }: MemoryHistoryOptions = { path: '' }) {\n\t\tsuper({});\n\t\tthis._current = current;\n\t}\n\n\tprefix(path: string) {\n\t\treturn path;\n\t}\n\n\tset(path: string) {\n\t\tif (this._current === path) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._current = path;\n\t\tthis.emit({\n\t\t\ttype: 'change',\n\t\t\tvalue: path\n\t\t});\n\t}\n\n\treplace(path: string) {\n\t\tthis.set(path);\n\t}\n}\n\nexport default MemoryHistory;\n"]}