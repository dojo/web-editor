{"version":3,"file":"Checkbox.js","sourceRoot":"","sources":["Checkbox.ts"],"names":[],"mappings":"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","sourcesContent":["import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { DNode } from '@dojo/widget-core/interfaces';\nimport { ThemedMixin, ThemedProperties, theme } from '@dojo/widget-core/mixins/Themed';\nimport Label, { LabelOptions, parseLabelClasses } from '../label/Label';\nimport { v, w } from '@dojo/widget-core/d';\nimport * as css from './styles/checkbox.m.css';\n\n/**\n * @type CheckboxProperties\n *\n * Properties that can be set on a Checkbox component\n *\n * @property checked        Checked/unchecked property of the radio\n * @property describedBy    ID of an element that provides more descriptive text\n * @property disabled       Prevents the user from interacting with the form field\n * @property invalid        Indicates the valid is invalid, or required and not filled in\n * @property label          Label settings for form label text, position, and visibility\n * @property mode           The type of user interface to show for this Checkbox\n * @property name           The form widget's name\n * @property offLabel       Label to show in the \"off\" positin of a toggle\n * @property onLabel        Label to show in the \"on\" positin of a toggle\n * @property readOnly       Allows or prevents user interaction\n * @property required       Whether or not a value is required\n * @property value          The current value\n * @property onBlur         Called when the input loses focus\n * @property onChange       Called when the node's 'change' event is fired\n * @property onClick        Called when the input is clicked\n * @property onFocus        Called when the input is focused\n * @property onMouseDown    Called on the input's mousedown event\n * @property onMouseUp      Called on the input's mouseup event\n * @property onTouchStart   Called on the input's touchstart event\n * @property onTouchEnd     Called on the input's touchend event\n * @property onTouchCancel  Called on the input's touchcancel event\n */\nexport interface CheckboxProperties extends ThemedProperties {\n\tchecked?: boolean;\n\tdescribedBy?: string;\n\tdisabled?: boolean;\n\tinvalid?: boolean;\n\tlabel?: string | LabelOptions;\n\tmode?: Mode;\n\tname?: string;\n\toffLabel?: DNode;\n\tonLabel?: DNode;\n\treadOnly?: boolean;\n\trequired?: boolean;\n\tvalue?: string;\n\tonBlur?(event: FocusEvent): void;\n\tonChange?(event: Event): void;\n\tonClick?(event: MouseEvent): void;\n\tonFocus?(event: FocusEvent): void;\n\tonMouseDown?(event: MouseEvent): void;\n\tonMouseUp?(event: MouseEvent): void;\n\tonTouchStart?(event: TouchEvent): void;\n\tonTouchEnd?(event: TouchEvent): void;\n\tonTouchCancel?(event: TouchEvent): void;\n}\n\n/**\n * The type of UI to show for this Checkbox\n */\nexport const enum Mode {\n\tnormal,\n\ttoggle\n};\n\nexport const CheckboxBase = ThemedMixin(WidgetBase);\n\n@theme(css)\nexport default class Checkbox extends CheckboxBase<CheckboxProperties> {\n\tprivate _focused = false;\n\tprivate _onBlur (event: FocusEvent) {\n\t\tthis._focused = false;\n\t\tthis.properties.onBlur && this.properties.onBlur(event);\n\t\tthis.invalidate();\n\t}\n\tprivate _onChange (event: Event) { this.properties.onChange && this.properties.onChange(event); }\n\tprivate _onClick (event: MouseEvent) { this.properties.onClick && this.properties.onClick(event); }\n\tprivate _onFocus (event: FocusEvent) {\n\t\tthis._focused = true;\n\t\tthis.properties.onFocus && this.properties.onFocus(event);\n\t\tthis.invalidate();\n\t}\n\tprivate _onMouseDown (event: MouseEvent) { this.properties.onMouseDown && this.properties.onMouseDown(event); }\n\tprivate _onMouseUp (event: MouseEvent) { this.properties.onMouseUp && this.properties.onMouseUp(event); }\n\tprivate _onTouchStart (event: TouchEvent) { this.properties.onTouchStart && this.properties.onTouchStart(event); }\n\tprivate _onTouchEnd (event: TouchEvent) { this.properties.onTouchEnd && this.properties.onTouchEnd(event); }\n\tprivate _onTouchCancel (event: TouchEvent) { this.properties.onTouchCancel && this.properties.onTouchCancel(event); }\n\n\tprotected getModifierClasses(): (string | null)[] {\n\t\tconst {\n\t\t\tchecked = false,\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\tmode,\n\t\t\treadOnly,\n\t\t\trequired\n\t\t} = this.properties;\n\n\t\treturn [\n\t\t\tmode === Mode.toggle ? css.toggle : null,\n\t\t\tchecked ? css.checked : null,\n\t\t\tdisabled ? css.disabled : null,\n\t\t\tthis._focused ? css.focused : null,\n\t\t\tinvalid ? css.invalid : null,\n\t\t\tinvalid === false ? css.valid : null,\n\t\t\treadOnly ? css.readonly : null,\n\t\t\trequired ? css.required : null\n\t\t];\n\t}\n\n\tprotected renderToggle(): DNode[] {\n\t\tconst {\n\t\t\tchecked,\n\t\t\tmode,\n\t\t\tonLabel,\n\t\t\toffLabel\n\t\t} = this.properties;\n\n\t\treturn mode === Mode.toggle ? [\n\t\t\toffLabel ? v('div', {\n\t\t\t\tkey: 'offLabel',\n\t\t\t\tclasses: this.theme(css.offLabel),\n\t\t\t\t'aria-hidden': checked ? 'true' : null\n\t\t\t}, [ offLabel ]) : null,\n\t\t\tv('div', {\n\t\t\t\tkey: 'toggle',\n\t\t\t\tclasses: this.theme(css.toggleSwitch)\n\t\t\t}),\n\t\t\tonLabel ? v('div', {\n\t\t\t\tkey: 'onLabel',\n\t\t\t\tclasses: this.theme(css.onLabel),\n\t\t\t\t'aria-hidden': checked ? null : 'true'\n\t\t\t}, [ onLabel ]) : null\n\t\t] : [];\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\tchecked = false,\n\t\t\tdescribedBy,\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\tlabel,\n\t\t\tname,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tvalue\n\t\t} = this.properties;\n\n\t\tconst children = [\n\t\t\tv('div', { classes: this.theme(css.inputWrapper) }, [\n\t\t\t\t...this.renderToggle(),\n\t\t\t\tv('input', {\n\t\t\t\t\tclasses: this.theme(css.input),\n\t\t\t\t\tchecked,\n\t\t\t\t\t'aria-describedby': describedBy,\n\t\t\t\t\tdisabled,\n\t\t\t\t\t'aria-invalid': invalid ? 'true' : null,\n\t\t\t\t\tname,\n\t\t\t\t\treadOnly,\n\t\t\t\t\t'aria-readonly': readOnly ? 'true' : null,\n\t\t\t\t\trequired,\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tvalue,\n\t\t\t\t\tonblur: this._onBlur,\n\t\t\t\t\tonchange: this._onChange,\n\t\t\t\t\tonclick: this._onClick,\n\t\t\t\t\tonfocus: this._onFocus,\n\t\t\t\t\tonmousedown: this._onMouseDown,\n\t\t\t\t\tonmouseup: this._onMouseUp,\n\t\t\t\t\tontouchstart: this._onTouchStart,\n\t\t\t\t\tontouchend: this._onTouchEnd,\n\t\t\t\t\tontouchcancel: this._onTouchCancel\n\t\t\t\t})\n\t\t\t])\n\t\t];\n\n\t\tlet checkboxWidget;\n\n\t\tif (label) {\n\t\t\tcheckboxWidget = w(Label, {\n\t\t\t\textraClasses: { root: parseLabelClasses(this.theme([ css.root, ...this.getModifierClasses() ])) },\n\t\t\t\tlabel,\n\t\t\t\ttheme: this.properties.theme\n\t\t\t}, children);\n\t\t}\n\t\telse {\n\t\t\tcheckboxWidget = v('div', {\n\t\t\t\tclasses: this.theme([ css.root, ...this.getModifierClasses() ])\n\t\t\t}, children);\n\t\t}\n\n\t\treturn checkboxWidget;\n\t}\n}\n"]}