{"version":3,"file":"ProviderRegistry.js","sourceRoot":"","sources":["ProviderRegistry.ts"],"names":[],"mappings":";;;;;;;;;;;;IACA,kDAAuD;IAGvD;QAA8C,4CAAuB;QAArE;;QAsBA,CAAC;QArBA,6CAAkB,GAAlB,UAAmB,QAAkB;YACpC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAED,mCAAQ,GAAR,UAAS,IAA2C,EAAE,KAAe,EAAE,KAAe;YACrF,IAAI,SAAsB,CAAC;YAE3B,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC9B,SAAS,GAAG,UAAC,GAAG,EAAE,OAAO,IAAK,OAAA,IAAI,KAAK,GAAG,EAAZ,CAAY,CAAC;YAC5C,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,CAAC,CAAC;gBACjC,SAAS,GAAG,UAAC,GAAG,EAAE,OAAO;oBACxB,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACrC,CAAC,CAAC;YACH,CAAC;YACD,IAAI,CAAC,CAAC;gBACL,SAAS,GAAG,IAAI,CAAC;YAClB,CAAC;YAED,MAAM,CAAC,iBAAM,QAAQ,YAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QAChD,CAAC;QACF,uBAAC;IAAD,CAAC,AAtBD,CAA8C,uBAAa,GAsB1D","sourcesContent":["import { Provider, ProviderTest } from './interfaces';\nimport MatchRegistry, { Test } from '../MatchRegistry';\nimport { Handle } from '@dojo/interfaces/core';\n\nexport default class ProviderRegistry extends MatchRegistry<Provider> {\n\tsetDefaultProvider(provider: Provider) {\n\t\tthis._defaultValue = provider;\n\t}\n\n\tregister(test: string | RegExp | ProviderTest | null, value: Provider, first?: boolean): Handle {\n\t\tlet entryTest: Test | null;\n\n\t\tif (typeof test === 'string') {\n\t\t\tentryTest = (url, options) => test === url;\n\t\t}\n\t\telse if (test instanceof RegExp) {\n\t\t\tentryTest = (url, options) => {\n\t\t\t\treturn test ? test.test(url) : null;\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tentryTest = test;\n\t\t}\n\n\t\treturn super.register(entryTest, value, first);\n\t}\n}\n"]}