{"version":3,"file":"LiveCodeExample.js","sourceRoot":"","sources":["../src/LiveCodeExample.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA,yCAA2C;IAE3C,2DAAsD;IACtD,0DAAuF;IAEvF,mEAAqE;IACrE,mDAA8C;IAoB9C,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IAC9B,IAAM,GAAG,GAAG,KAAK,CAAC;IAElB,IAAM,UAAU,GAAG,oBAAW,CAAC,oBAAU,CAAC,CAAC;IAG3C;QAA6C,mCAA6C;QAD1F;YAAA,qEA4CC;YA1CQ,cAAQ,GAAG;gBACZ,IAAA,qBAAiC,EAA/B,UAAE,EAAE,oBAAO,CAAqB;gBACxC,OAAO,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC;YACxB,CAAC,CAAA;;QAuCF,CAAC;QArCO,gCAAM,GAAb;YACO,IAAA,SAGE,EAFP,qBAAiB,EACjB,kBAAwF,EAA1E,sBAAqB,EAArB,0CAAqB,EAAE,UAAE,EAAE,4BAAW,EAAE,gBAAK,EAAE,oBAAO,EAAE,wBAAS,EAAE,gBAAK,CAC9E;YAET,MAAM,CAAC,KAAC,CAAC,GAAG,EAAE;gBACb,OAAO,EAAE,CAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,kBAAkB,CAAC,SAAS,CAAE;gBAC9E,EAAE,IAAA;gBACF,GAAG,EAAE,MAAM;aACX,EAAE;gBACF,KAAC,CAAC,GAAG,EAAE;oBACN,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC5C,GAAG,EAAE,MAAM;iBACX,EAAE;oBACF,KAAC,CAAC,IAAI,EAAE,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAE,KAAK,CAAE,CAAC;oBAC/C,KAAC,CAAC,GAAG,EAAE;wBACN,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,WAAW,CAAC;qBACnD,EAAE;wBACF,KAAC,CAAC,GAAG,EAAE,EAAE,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAE,WAAW,CAAE,CAAC;qBAChE,CAAC;iBACF,CAAC;gBACF,KAAC,CAAC,GAAG,EAAE;oBACN,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC;oBAC7C,GAAG,EAAE,OAAO;iBACZ,EAAE;oBACF,KAAC,CAAC,oBAAU,EAAE;wBACb,cAAc,gBAAA;wBACd,EAAE,IAAA;wBACF,KAAK,OAAA;wBACL,OAAO,SAAA;wBACP,SAAS,WAAA;wBACT,OAAO,SAAA;qBACP,CAAC;iBACF,CAAC;aACF,CAAC,CAAC;QACJ,CAAC;QA1CmB,eAAe;YADnC,cAAK,CAAC,kBAAkB,CAAC;WACL,eAAe,CA2CnC;QAAD,sBAAC;KAAA,AA3CD,CAA6C,UAAU,GA2CtD;sBA3CoB,eAAe","sourcesContent":["import { v, w } from '@dojo/widget-core/d';\nimport { DNode } from '@dojo/widget-core/interfaces';\nimport WidgetBase from '@dojo/widget-core/WidgetBase';\nimport { theme, ThemedMixin, ThemedProperties } from '@dojo/widget-core/mixins/Themed';\nimport { Program } from './project';\nimport * as livecodeexampleCss from './styles/livecodeexample.m.css';\nimport LiveEditor from './widgets/LiveEditor';\n\nexport interface LiveCodeExampleProperties extends ThemedProperties {\n\t/**\n\t * The interval, in milliseconds, when the last change to the editor causes it to call `onDirty`.  It will default to\n\t * `1000` (1 second)\n\t */\n\tchangeInterval?: number;\n\n\tdescription: DNode | DNode[];\n\tid: string;\n\tmodel?: monaco.editor.IModel;\n\tprogram?: Program;\n\trunnerSrc?: string;\n\ttitle: DNode | DNode[];\n\ttsx?: boolean;\n\n\tonDirty?(id: string): void;\n}\n\nconst isArray = Array.isArray;\nconst DIV = 'div';\n\nconst ThemedBase = ThemedMixin(WidgetBase);\n\n@theme(livecodeexampleCss)\nexport default class LiveCodeExample extends ThemedBase<LiveCodeExampleProperties, string> {\n\tprivate _onDirty = () => {\n\t\tconst { id, onDirty } = this.properties;\n\t\tonDirty && onDirty(id);\n\t}\n\n\tpublic render() {\n\t\tconst {\n\t\t\t_onDirty: onDirty,\n\t\t\tproperties: { changeInterval = 1000, id, description, model, program, runnerSrc, title }\n\t\t} = this;\n\n\t\treturn v(DIV, {\n\t\t\tclasses: [ this.theme(livecodeexampleCss.root), livecodeexampleCss.rootFixed ],\n\t\t\tid,\n\t\t\tkey: 'root'\n\t\t}, [\n\t\t\tv(DIV, {\n\t\t\t\tclasses: this.theme(livecodeexampleCss.left),\n\t\t\t\tkey: 'left'\n\t\t\t}, [\n\t\t\t\tv('h1', {}, isArray(title) ? title : [ title ]),\n\t\t\t\tv(DIV, {\n\t\t\t\t\tclasses: this.theme(livecodeexampleCss.description)\n\t\t\t\t}, [\n\t\t\t\t\tv('p', {}, isArray(description) ? description : [ description ])\n\t\t\t\t])\n\t\t\t]),\n\t\t\tv(DIV, {\n\t\t\t\tclasses: this.theme(livecodeexampleCss.right),\n\t\t\t\tkey: 'right'\n\t\t\t}, [\n\t\t\t\tw(LiveEditor, {\n\t\t\t\t\tchangeInterval,\n\t\t\t\t\tid,\n\t\t\t\t\tmodel,\n\t\t\t\t\tprogram,\n\t\t\t\t\trunnerSrc,\n\t\t\t\t\tonDirty\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n}\n"]}